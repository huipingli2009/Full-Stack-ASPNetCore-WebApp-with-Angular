<div class="content-main">
    <div id="workbooks">
        <!-- NOTE: (TH) HEADER SECTION (Workbooks, Reporting Periods, Patient Search)-->
        <div fxLayout="row" id="header" class="workbooks-header" fxLayoutAlign="space-even center">           
            <div fxLayout="column" fxLayoutAlign="start center" class="header-filter" >                                            
                <mat-form-field>
                    <mat-label>Select Workbook</mat-label>  
                    <mat-select [formControl]="workbookSelector"
                        (selectionChange)="onWorkbookSelectionChange($event)">
                        <mat-option *ngFor="let workbooksForm of workbooksFormList"
                            [value]="workbooksForm.id">
                           {{workbooksForm.label}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>   
             <div>&nbsp;</div>   
            <div fxLayout="column" fxLayoutAlign="start center" class="header-filter">
                <mat-form-field >
                    <mat-label> Reporting Period </mat-label>  
                    <mat-select [formControl]="reportingPeriodSelector"
                        (selectionChange)="onReportingDateSelectionChange($event)">
                        <mat-option *ngFor="let reportingdate of workbookReportingPeriods"
                            [value]="reportingdate.formResponseId" >
                            {{reportingdate.reportingPeriod}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div fxLayout="column" fxLayoutAlign="end end" class="search-input" style="color: var(--primary-darker-color) !important" fxFlex fxFill>
                <mat-form-field>
                    <input matInput [formControl]="PatientNameFilter" autocomplete="off"
                        placeholder="Search Patient: Name">
                    <button mat-button matSuffix mat-icon-button aria-label="Search">
                        <mat-icon>search</mat-icon>
                    </button>
                </mat-form-field>
            </div>
        </div>
        <!-- NOTE: (TH) DEPRESSION SECTION (Header w/ stats, provider input, patient entry)-->
        <ng-container id="depressionWorkbookContainer" *ngIf="selectedWorkbookFormId == workbookFormValueEnum.depression">
            <div class="top-date-container" fxLayout="row">
                <div fxLayout="column" fxLayoutAlign="start center" class="main-date">
                    DEPRESSION WORKBOOK FOR  
                </div>
                <div fxLayout="column" fxLayoutAlign="start center" class="main-date">
                    <strong>{{selectedReportingPeriod?.reportingPeriod}}</strong>
                </div>
            </div>
            <div class="side-border-container text-container">
                <div fxLayout="row" class="italic">
    
                    You have completed <strong>{{phqsFinal}} </strong> of <strong>{{totalFinal}}</strong> PHQ screenings for
                    this period
                </div>
                <div fxLayout="row">
                    <div fxLayout="column" fxFlex="90">
                        <span>For <strong>{{totalFinal}} total</strong> 12-17 year olds seen for WCC in this reporting
                            period, <strong>{{phqsFinal}} had a PHQ Screening</strong> during their visit.</span>
                    </div>
                    <div fxLayout="column" fxLayoutAlign="end end" fxFlex>
                        <a href='{{workbookPractice?.jobAidURL}}' target="_blank">Job Aid</a>
                    </div>  
                </div>
            </div>
            <div fxLayout="row" class="side-border-container provider-list-container">
                
                <form [formGroup]="ProvidersForWorkbookForm">
                    <ng-container *ngIf="workbookProviders">
                        <div fxLayout="row" class="workbook-detail-heading">
                            Patients with a Completed PHQ screen vs. patients seen by doctor:
                        </div>
                        <div fxLayout="row wrap" fxLayoutGap="64px">
                            <div fxLayout="column" class="workbook-item"
                                [ngClass]="{'only-two-patients': ProviderWorkbookArray.controls.length === 2, 'only-three-patients': ProviderWorkbookArray.controls.length === 3}">
                                <div fxLayout="row">
                                    <div fxLayout="column" fxFlex fxLayoutAlign="center start" fxFlex="100px">
                                        <div class="title-col hidden-name">NAME</div>
                                    </div>
                                    <div fxLayout="column" fxFlex="60.5px" class="workbook-inputs-col">
                                        <div class="title-col">PHQS</div>
                                    </div>
                                    <div fxLayout="column" fxFlex="60.5px">
                                        <div class="title-col">TOTAL</div>
                                    </div>
                                </div>
                            </div>
                            <div fxLayout="column" class="workbook-item wokbook-col-title-2"
                                *ngIf="ProviderWorkbookArray.controls.length > 1"
                                [ngClass]="{'only-two-patients': ProviderWorkbookArray.controls.length === 2, 'only-three-patients': ProviderWorkbookArray.controls.length === 3}">
                                <div fxLayout="row">
                                    <div fxLayout="column" fxFlex fxLayoutAlign="center start" fxFlex="100px">
                                        <div class="title-col hidden-name">NAME</div>
                                    </div>
                                    <div fxLayout="column" fxFlex="60.5px" class="workbook-inputs-col">
                                        <div class="title-col">PHQS</div>
                                    </div>
                                    <div fxLayout="column" fxFlex="60.5px">
                                        <div class="title-col">TOTAL</div>
                                    </div>
                                </div>
                            </div>
                            <div fxLayout="column" class="workbook-item wokbook-col-title-3"
                                *ngIf="ProviderWorkbookArray.controls.length > 2"
                                [ngClass]="{'only-three-patients': ProviderWorkbookArray.controls.length === 3}">
                                <div fxLayout="row">
                                    <div fxLayout="column" fxFlex fxLayoutAlign="center start" fxFlex="100px">
                                        <div class="title-col hidden-name">NAME</div>
                                    </div>
                                    <div fxLayout="column" fxFlex="60.5px" class="workbook-inputs-col">
                                        <div class="title-col">PHQS</div>
                                    </div>
                                    <div fxLayout="column" fxFlex="60.5px">
                                        <div class="title-col">TOTAL</div>
                                    </div>
                                </div>
                            </div>
                            <div fxLayout="column" class="workbook-item wokbook-col-title-4"
                                *ngIf="ProviderWorkbookArray.controls.length > 3">
                                <div fxLayout="row">
                                    <div fxLayout="column" fxFlex fxLayoutAlign="center start" fxFlex="100px">
                                        <div class="title-col hidden-name">NAME</div>
                                    </div>
                                    <div fxLayout="column" fxFlex="60.5px" class="workbook-inputs-col">
                                        <div class="title-col">PHQS</div>
                                    </div>
                                    <div fxLayout="column" fxFlex="60.5px">
                                        <div class="title-col">TOTAL</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div fxLayout="row">
                            <ng-container formArrayName="ProviderWorkbookArray">
                                <div fxLayout="row wrap" fxLayoutGap="64px">
                                    <div fxLayout="column"
                                        *ngFor="let provider of ProviderWorkbookArray.controls; index as i"
                                        class="workbook-item workbook-patient-item"
                                        [ngClass]="{'only-two-patients': ProviderWorkbookArray.controls.length === 2, 'only-three-patients': ProviderWorkbookArray.controls.length === 3}">
                                        <ng-container [formGroupName]="i">
                                            <div fxLayout="row" fxFill>
                                                <div fxLayout="column" fxFlex fxLayoutAlign="center start" fxFlex="100px">
                                                    <mat-form-field class="workbook-provider">
                                                        <input matInput formControlName="provider" readonly>
                                                    </mat-form-field>
                                                </div>
                                                <div fxLayout="column" fxFlex="60.5px" class="workbook-inputs-col">
                                                    <mat-form-field class="workbook-input">
                                                        <input matInput (change)="onProviderDepressionWorkbookChange(i)"
                                                            formControlName="phqs">
    
                                                    </mat-form-field> 
                                                </div>
                                                <div fxLayout="column" fxFlex="60.5px">
                                                    <mat-form-field class="workbook-input">
                                                        <input matInput (change)="onProviderDepressionWorkbookChange(i)"
                                                            formControlName="total">
                                                    </mat-form-field>
                                                </div>
                                            </div>
                                        </ng-container>
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </ng-container>
                    
                </form>
            </div>
            <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="100px" class="side-border-container button-container">
                <div fxLayout="column" fxLayoutAlign="end center">                    
                    <form [formGroup]="ProviderConfirmationForm">
                        <mat-slide-toggle labelPosition="after" formControlName="allProvidersConfirm" [checked]="ProviderConfirmationForm.controls.allProvidersConfirm" (change)="onConfirmationChange()"
                            name="providerConfirm" ngDefaultControl><span class="whitespace"></span>ALL PROVIDER DATA IS ENTERED
                        </mat-slide-toggle>
                    </form>
                </div>
                <div fxLayout="column">
                    <button mat-flat-button color="accent" (click)="openEditProvidersDialog()">EDIT PROVIDERS</button>
                </div>
            </div>
            <div *ngIf="dataSourceDepressionWorkbook">
                <form [formGroup]="PatientConfirmationForm">
                <div fxLayout="row" class="workbooks-header" style="border-radius: 0px !important;" fxLayoutAlign="start center" >
                        <div class="header-filter" fxLayout="column" fxLayoutAlign="start" fxFlex="80"> 
                            {{patientTableHeader}} Patients with PHQ-9 scores of 10 or Above Follow Up Patients
                        </div>
                        <div class="header-filter" fxLayout="column" fxLayoutAlign="end" fxFlex>    
                            <mat-checkbox formControlName="noPatientsConfirm"   [checked]="PatientConfirmationForm.controls.noPatientsConfirm" (change)="onConfirmationChange()"  class="table-header-checkbox"> 
                                NO PATIENTS WITH PHQ-9 OF 10 OR ABOVE
                            </mat-checkbox>
                        </div>

                        
                </div>
                </form>
                <div fxLayout="row" class="patient-workbook-table">
                    <mat-table #table [dataSource]="dataSourceDepressionWorkbook" matSort id="patients"
                        (matSortChange)="onSortData($event)" [trackBy]="trackDepressionPatients" multiTemplateDataRows>
        
                        <!-- DropDown Column -->
                        <ng-container matColumnDef="action">
                            <mat-header-cell *matHeaderCellDef></mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <button mat-icon-button color="accent" (click)="onDepressionPatientDelete(element)">
                                    <mat-icon>remove_circle</mat-icon>
                                </button>
                            </mat-cell>
                        </ng-container>
        
                        <!-- Patient Name Column -->
                        <ng-container matColumnDef="patient">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <div *ngIf="element ==0;else elseDiv">
                                    <i class="material-icons rotate-icon">
                                        email
                                    </i>
                                </div>
                                <ng-template #elseDiv>
                                    {{element.patient}}
                                </ng-template>
        
                            </mat-cell>
                        </ng-container>
        
                        <!-- Date of birth  Column -->
                        <ng-container matColumnDef="dob">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> DOB </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.dob | date:'shortDate' }} </mat-cell>
                        </ng-container>
        
        
                        <!-- phone Column -->
                        <ng-container matColumnDef="phone">
                            <mat-header-cell *matHeaderCellDef> PHONE </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.phone}} </mat-cell>
                        </ng-container>
        
                        <!-- Provider Column -->
                        <ng-container matColumnDef="provider">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> PROVIDER </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.provider }} </mat-cell>
                        </ng-container>
        
                        <!-- Date of Service Column -->
                        <ng-container matColumnDef="dateOfService">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> SERVICE </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.dateOfService  | date:'shortDate'}} </mat-cell>
                        </ng-container>
        
        
                        <!-- PHO9 Score Column -->
                        <ng-container matColumnDef="phQ9_Score">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> PHQ9 </mat-header-cell>
                            <mat-cell *matCellDef="let element">{{element.phQ9_Score}}
                            </mat-cell>
                        </ng-container>
        
        
                        <!-- Improvement Column -->
                        <ng-container matColumnDef="improvement">
                            <mat-header-cell *matHeaderCellDef> IMPROVEMENT </mat-header-cell>
                            <mat-cell *matCellDef="let element">{{element.improvement}}
                            </mat-cell>
                        </ng-container>
        
        
                        <!-- Action Follow up Column -->
                        <ng-container matColumnDef="actionFollowUp">
                            <mat-header-cell *matHeaderCellDef> ACTION PLAN </mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <ng-container *ngIf="element.actionFollowUp; else actionElse">
                                    Yes
                                </ng-container>
                                <ng-template #actionElse>
                                    No
                                </ng-template>
                            </mat-cell>
                        </ng-container>
                        <!-- Action Follow up Column -->
                        <ng-container matColumnDef="followUp">
                            <mat-header-cell *matHeaderCellDef> FOLLOW UP </mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <button mat-flat-button [color]="element.followUpResponse? 'primary' : 'accent'"
                                    (click)="FollowUpForPatient(element)">FOLLOW
                                    UP</button>
                            </mat-cell>
                        </ng-container>
        
                        <!-- Second Header Columns===============================================================-->
                        <div form [formGroup]="DepressionPatientForWorkbookForm">
                            <!-- Action button to add patients -->
                            <ng-container matColumnDef="addaction">
                                <mat-header-cell *matHeaderCellDef>
                                    <button type="submit" mat-icon-button color="accent" *ngIf="!hasSelectedPatient">
                                        <mat-icon>add_circle</mat-icon>
                                    </button>
                                    <button mat-icon-button color="primary" (click)="resetAddDepressionPatient()"
                                        *ngIf="hasSelectedPatient">
                                        <mat-icon>clear</mat-icon>
                                    </button>
                                </mat-header-cell>
                            </ng-container>
        
                            <!-- Patient Name Column -->
                            <ng-container matColumnDef="addpatient">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-form-field class="multi-select-override">
                                        <mat-label>Patient Name</mat-label>
                                        <mat-select formControlName="patientInfo" (selectionChange)="onSelectedPatient($event)"
                                            required>
        
                                            <input matInput [formControl]="searchPatient" autocomplete="off"
                                                class="workbook-select-search">
                                            <mat-option class="workbook-select-search-hidden"></mat-option>
                                            <mat-option *ngFor="let patient of SearchPatients;trackBy: trackByForPatientSearch"
                                                [value]="patient"
                                                matTooltip="{{patient.firstName}} {{patient.lastName}} Date of Birth: {{patient.dob  | date:'shortDate'}} Phone: {{patient.phone}}">
                                                {{patient.firstName}} {{patient.lastName}}
                                            </mat-option>
                                        </mat-select>
                                        <ng-container
                                            *ngIf="(DepressionPatientForWorkbookForm.get('patientId').touched || DepressionPatientForWorkbookForm.get('patientId').dirty) && DepressionPatientForWorkbookForm.get('patientId').errors">
                                            <mat-error *ngIf="DepressionPatientForWorkbookForm.get('patientId').errors.required">
                                                Please select a patient
                                            </mat-error>
                                        </ng-container>
                                    </mat-form-field>
                                </mat-header-cell>
                            </ng-container>
        
                            <!-- Date of birth Column -->
                            <ng-container matColumnDef="adddob">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-form-field>
                                        <input matInput formControlName="dob" placeholder="MM/DD/YYYY" readonly>
                                    </mat-form-field>
        
                                </mat-header-cell>
                            </ng-container>
        
                            <!-- Phone Column -->
                            <ng-container matColumnDef="addphone">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-form-field>
                                        <input matInput placeholder="phone" formControlName="phone" readonly>
                                    </mat-form-field>
                                </mat-header-cell>
                            </ng-container>
                            <!-- Provider Column -->
                            <ng-container matColumnDef="addprovider">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-form-field class="multi-select-override">
                                        <mat-label>
                                            Provider
                                        </mat-label>
                                        <mat-select formControlName="providerStaffID" required>
                                            <mat-option *ngFor="let provider of workbookProviders" [value]="provider.staffID">
                                                {{provider.provider}}
                                            </mat-option>
                                        </mat-select>
                                        <ng-container
                                            *ngIf="(DepressionPatientForWorkbookForm.get('providerStaffID').touched || DepressionPatientForWorkbookForm.get('providerStaffID').dirty) && DepressionPatientForWorkbookForm.get('providerStaffID').errors">
                                            <mat-error *ngIf="DepressionPatientForWorkbookForm.get('providerStaffID').errors.required">
                                                Please select a provider
                                            </mat-error>
        
        
                                        </ng-container>
                                    </mat-form-field>
                                </mat-header-cell>
                            </ng-container>
                            <!-- Date of Service Column -->
                            <ng-container matColumnDef="adddateOfService">
                                <mat-header-cell *matHeaderCellDef class="date-picker-input">
        
                                    <mat-form-field class="staff-full-width">
                                        <input matInput placeholder="MM/DD/YYYY" formControlName="dateOfService"
                                            [matDatepicker]="picker" required>
                                        <mat-datepicker-toggle matPrefix [for]="picker">
                                            <mat-icon matDatepickerToggleIcon class="icons-white-mail-input mat-icon-staff">
                                                calendar_today
                                            </mat-icon>
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
        
                                        <ng-container
                                            *ngIf="(DepressionPatientForWorkbookForm.get('dateOfService').touched || DepressionPatientForWorkbookForm.get('dateOfService').dirty) && DepressionPatientForWorkbookForm.get('dateOfService').errors">
                                            <mat-error *ngIf="DepressionPatientForWorkbookForm.get('dateOfService').errors.daterequired">
                                                Date of service is required in MM/DD/YYYY format
                                            </mat-error>
                                        </ng-container>
                                    </mat-form-field>
                                </mat-header-cell>
                            </ng-container>
                            <!-- PHQ9 score Column -->
                            <ng-container matColumnDef="addphQ9_Score">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-form-field>
                                        <input matInput formControlName="pHQ9Score" required placeholder="Score">
                                        <ng-container
                                            *ngIf="(DepressionPatientForWorkbookForm.get('pHQ9Score').touched || DepressionPatientForWorkbookForm.get('pHQ9Score').dirty) && DepressionPatientForWorkbookForm.get('pHQ9Score').errors">
                                            <mat-error *ngIf="DepressionPatientForWorkbookForm.get('pHQ9Score').errors.required">
                                                pHQ9Score is required
                                            </mat-error>
        
                                        </ng-container>
                                    </mat-form-field>
                                </mat-header-cell>
                            </ng-container>
                            <!-- Improvement Column -->
                            <ng-container matColumnDef="addimprovement">
                                <mat-header-cell *matHeaderCellDef>
        
                                </mat-header-cell>
                            </ng-container>
                            <!-- Action Followup Column -->
                            <ng-container matColumnDef="addactionFollowUp">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-button-toggle-group formControlName="action">
                                        <mat-button-toggle value="true">Yes</mat-button-toggle>
                                        <mat-button-toggle value="false">No</mat-button-toggle>
                                    </mat-button-toggle-group>
                                    <ng-container
                                        *ngIf="(DepressionPatientForWorkbookForm.get('action').touched || DepressionPatientForWorkbookForm.get('action').dirty) && DepressionPatientForWorkbookForm.get('action').errors">
                                        <mat-error *ngIf="DepressionPatientForWorkbookForm.get('action').errors.required">
                                            Please select a action Followup
                                        </mat-error>
        
        
                                    </ng-container>
                                </mat-header-cell>
                            </ng-container>
        
                            <!-- Action Follow up Column -->
                            <ng-container matColumnDef="addfollowUp">
                                <mat-header-cell *matHeaderCellDef>
                                    <button mat-flat-button [disabled]="!DepressionPatientForWorkbookForm.valid" color="accent"
                                        (click)="AddDepressionPatientForWorkbook()">ADD PATIENT</button>
                                </mat-header-cell>
        
                            </ng-container>
                        </div>
                        <!-- Hidden Columns===============================================================-->
                        <!-- formResponseId Column -->
                        <ng-container matColumnDef="formResponseId">
                            <mat-header-cell *matHeaderCellDef> formResponseId </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.formResponseId}} </mat-cell>
                        </ng-container>
        
                        <!-- patientId Column -->
                        <ng-container matColumnDef="patientId">
                            <mat-header-cell *matHeaderCellDef> patientId </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.patientId}} </mat-cell>
                        </ng-container>
        
                        <!-- providerId Column -->
                        <ng-container matColumnDef="providerId">
                            <mat-header-cell *matHeaderCellDef> providerId </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.providerId}} </mat-cell>
                        </ng-container>
        
                        <!-- FollowUpResponse Column -->
                        <ng-container matColumnDef="FollowUpResponse">
                            <mat-header-cell *matHeaderCellDef> formResponseId </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.followUpResponse}} </mat-cell>
                        </ng-container>
        
        
                        <!-- Column for adding patient-->
                        <ng-container matColumnDef="addingPatient">
                            <mat-header-cell *matHeaderCellDef> providerId </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.providerId}} </mat-cell>
                        </ng-container>
        
        
                        <mat-header-row *matHeaderRowDef="displayedDepressionColumns"></mat-header-row>
                        <mat-header-row class="patient-addition-row"
                            *matHeaderRowDef="['addaction','addpatient','adddob', 'addphone','addprovider','adddateOfService','addphQ9_Score','addimprovement','addactionFollowUp','addfollowUp']">
                        </mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedDepressionColumns;">
                        </mat-row>
                    </mat-table>
                </div>
            </div>

        </ng-container>
        
        <!-- NOTE: (TH)  ASTHMA SECTION (Header w/ stats, patient entry) -->
        <ng-container id="asthmaWorkbookContainer" *ngIf="selectedWorkbookFormId == workbookFormValueEnum.asthma">
            <div class="top-date-container" fxLayout="row">
                <div fxLayout="column" fxLayoutAlign="start center" class="main-date" [innerHTML]=workbookPractice.header>
                </div>
            </div>
            <div class="side-border-container text-container">
                <div fxLayout="row" class="italic">   
                    <div fxLayout="column" fxFlex="90">
                        <span [innerHTML]=workbookPractice.line1></span> 
                    </div>
                </div>
                <div fxLayout="row">
                    <div fxLayout="column" fxFlex="90" >
                        <span [innerHTML]='workbookPractice.line2'></span>
                    </div>  
                </div>
                <div fxLayout="row">
                    <div fxLayout="column" fxFlex="90" >
                        <span><br></span>
                    </div>  
                </div>
                <div fxLayout="row">    
                    <div fxLayout="column" fxFlex="90" >
                        <span [innerHTML]=workbookPractice.line3></span>
                    </div>
                    <div fxLayout="column" fxLayoutAlign="end end" fxFlex>
                        <a href='{{workbookPractice?.jobAidURL}}' target="_blank">Job Aid</a>
                    </div>
                </div>                
                <div fxLayout="row">
                    <div fxLayout="column" fxFlex="90" >
                        <span><br></span>
                    </div>  
                </div>
            </div>

            <div *ngIf="dataSourceAsthmaWorkbook">
                <div fxLayout="row" id="totalPatients" class="workbooks-header" style="border-radius: 0px !important;">
                    <div fxLayout="column" class="header-filter">
                        {{totalAsthmaPatients}} Patients had an asthma assessment
                    </div>
                </div>
                <div fxLayout="row" class="patient-workbook-table">
                    <mat-table #table [dataSource]="dataSourceAsthmaWorkbook" matSort id="asthmaPatients"
                        (matSortChange)="onSortAsthmaData($event)" [trackBy]="trackAsthmaPatients" multiTemplateDataRows>
        
                        <!-- DropDown Column -->
                        <ng-container matColumnDef="action">
                            <mat-header-cell *matHeaderCellDef></mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <button mat-icon-button color="accent" (click)="onAsthmaPatientDelete(element)">
                                    <mat-icon>remove_circle</mat-icon>
                                </button>
                            </mat-cell>
                        </ng-container>
        
                        <!-- Patient Name Column -->
                        <ng-container matColumnDef="patient">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <div *ngIf="element ==0;else elseDiv">
                                    <i class="material-icons rotate-icon">
                                        email
                                    </i>
                                </div>
                                <ng-template #elseDiv>
                                    {{element.patient}}
                                </ng-template>
        
                            </mat-cell>
                        </ng-container>
        
                        <!-- Date of birth  Column -->
                        <ng-container matColumnDef="dob">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> DOB </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.dob | date:'shortDate' }} </mat-cell>
                        </ng-container>
        
        
                        <!-- phone Column -->
                        <ng-container matColumnDef="phone">
                            <mat-header-cell *matHeaderCellDef> PHONE </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.phone}} </mat-cell>
                        </ng-container>
        
                        <!-- Provider Column -->
                        <ng-container matColumnDef="provider">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> PROVIDER </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.provider }} </mat-cell>
                        </ng-container>
        
                        <!-- Date of Service Column -->
                        <ng-container matColumnDef="dateOfService">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> SERVICE </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.dateOfService  | date:'shortDate'}} </mat-cell>
                        </ng-container>
        
                        <!-- Assessment Column -->
                        <ng-container matColumnDef="assessmentcompleted">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> ASSESSMENT COMPLETED </mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <ng-container *ngIf="element.assessmentCompleted; else actionElse">
                                    Yes
                                </ng-container>
                                <ng-template #actionElse>
                                    No
                                </ng-template>
                            </mat-cell>
                        </ng-container>                        
        
                        <!-- Treatment Column -->
                        <ng-container matColumnDef="treatment">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> TREATMENT </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{ element.treatment.treatmentLabel }} </mat-cell>
                        </ng-container>                        
        
                        <!-- Action Plan Column -->
<!--                         <ng-container matColumnDef="actionplangiven">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> ACTION PLAN GIVEN </mat-header-cell>
                            <mat-cell *matCellDef="let element">
                                <ng-container *ngIf="element.actionPlanGiven; else actionElse">
                                    Yes
                                </ng-container>
                                <ng-template #actionElse>
                                    No
                                </ng-template>
                            </mat-cell>
                        </ng-container>    -->                     
        
                        <!-- Asthma Score Column -->
                        <ng-container matColumnDef="asthma_Score">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> SCORE </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.asthma_Score }} </mat-cell>
                        </ng-container>

                        <!-- Empty Column -->
                        <ng-container matColumnDef="followUp">
                            <mat-header-cell *matHeaderCellDef mat-sort-header> </mat-header-cell>
                            <mat-cell *matCellDef="let element"></mat-cell>
                        </ng-container>
        
        
                        <!-- Second Header Columns===============================================================-->
                        <div form [formGroup]="AsthmaPatientForWorkbookForm">
                            <!-- Action button to add patients -->
                            <ng-container matColumnDef="addaction">
                                <mat-header-cell *matHeaderCellDef>
                                    <button type="submit" mat-icon-button color="accent" *ngIf="!hasSelectedPatient">
                                        <mat-icon>add_circle</mat-icon>
                                    </button>
                                    <button mat-icon-button color="primary" (click)="resetAddAsthmaPatient()"
                                        *ngIf="hasSelectedPatient">
                                        <mat-icon>clear</mat-icon>
                                    </button>
                                </mat-header-cell>
                            </ng-container>
        
                            <!-- Patient Name Column -->
                            <ng-container matColumnDef="addpatient">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-form-field class="multi-select-override">
                                        <mat-label>Patient Name</mat-label>
                                        <mat-select formControlName="patientInfo" (selectionChange)="onSelectedPatient($event)"
                                            required>
        
                                            <input matInput [formControl]="searchPatient" autocomplete="off"
                                                class="workbook-select-search">
                                            <mat-option class="workbook-select-search-hidden"></mat-option>
                                            <mat-option *ngFor="let patient of SearchPatients;trackBy: trackByForPatientSearch"
                                                [value]="patient"
                                                matTooltip="{{patient.firstName}} {{patient.lastName}} Date of Birth: {{patient.dob  | date:'shortDate'}} Phone: {{patient.phone}}">
                                                {{patient.firstName}} {{patient.lastName}}
                                            </mat-option>
                                        </mat-select>
                                        <ng-container
                                            *ngIf="(AsthmaPatientForWorkbookForm.get('patientId').touched || AsthmaPatientForWorkbookForm.get('patientId').dirty) && AsthmaPatientForWorkbookForm.get('patientId').errors">
                                            <mat-error *ngIf="AsthmaPatientForWorkbookForm.get('patientId').errors.required">
                                                Please select a patient
                                            </mat-error>
                                        </ng-container>
                                    </mat-form-field>
                                </mat-header-cell>
                            </ng-container>
        
                            <!-- Date of birth Column -->
                            <ng-container matColumnDef="adddob">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-form-field>
                                        <input matInput formControlName="dob" placeholder="MM/DD/YYYY" readonly>
                                    </mat-form-field> 
        
                                </mat-header-cell>
                            </ng-container>
        
                            <!-- Phone Column -->
                            <ng-container matColumnDef="addphone">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-form-field>
                                        <input matInput placeholder="phone" formControlName="phone" readonly>
                                    </mat-form-field>
                                </mat-header-cell>
                            </ng-container>
                            <!-- Provider Column -->
                            <ng-container matColumnDef="addprovider">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-form-field class="multi-select-override">
                                        <mat-label>
                                            Provider
                                        </mat-label>
                                        <mat-select formControlName="providerStaffID" required>
                                            <mat-option *ngFor="let provider of workbookProviders" [value]="provider.staffID">
                                                {{provider.provider}}
                                            </mat-option>
                                        </mat-select>
                                        <ng-container
                                            *ngIf="(AsthmaPatientForWorkbookForm.get('providerStaffID').touched || AsthmaPatientForWorkbookForm.get('providerStaffID').dirty) && AsthmaPatientForWorkbookForm.get('providerStaffID').errors">
                                            <mat-error *ngIf="AsthmaPatientForWorkbookForm.get('providerStaffID').errors.required">
                                                Please select a provider
                                            </mat-error>
        
        
                                        </ng-container>
                                    </mat-form-field>
                                </mat-header-cell>
                            </ng-container>
                            <!-- Date of Service Column -->
                            <ng-container matColumnDef="adddateOfService">
                                <mat-header-cell *matHeaderCellDef class="date-picker-input">
        
                                    <mat-form-field class="staff-full-width">
                                        <input matInput placeholder="MM/DD/YYYY" formControlName="dateOfService"
                                            [matDatepicker]="picker" required>
                                        <mat-datepicker-toggle matPrefix [for]="picker">
                                            <mat-icon matDatepickerToggleIcon class="icons-white-mail-input mat-icon-staff">
                                                calendar_today
                                            </mat-icon>
                                        </mat-datepicker-toggle>
                                        <mat-datepicker #picker></mat-datepicker>
        
                                        <ng-container
                                            *ngIf="(AsthmaPatientForWorkbookForm.get('dateOfService').touched || AsthmaPatientForWorkbookForm.get('dateOfService').dirty) && AsthmaPatientForWorkbookForm.get('dateOfService').errors">
                                            <mat-error *ngIf="AsthmaPatientForWorkbookForm.get('dateOfService').errors.daterequired">
                                                Date of service is required in MM/DD/YYYY format
                                            </mat-error>
                                        </ng-container>
                                    </mat-form-field>
                                </mat-header-cell>
                            </ng-container>
                            
                            <!-- Assessment CompletedColumn -->
                            <ng-container matColumnDef="addassessmentcompleted">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-button-toggle-group formControlName="assessmentcompleted">
                                        <mat-button-toggle value="true">Yes</mat-button-toggle>
                                        <mat-button-toggle value="false">No</mat-button-toggle>
                                    </mat-button-toggle-group>
                                    <ng-container
                                        *ngIf="(AsthmaPatientForWorkbookForm.get('assessmentcompleted').touched || AsthmaPatientForWorkbookForm.get('assessmentcompleted').dirty) && AsthmaPatientForWorkbookForm.get('assessmentcompleted').errors">
                                        <mat-error *ngIf="AsthmaPatientForWorkbookForm.get('assessmentcompleted').errors.required">
                                            Please select a assessment option
                                        </mat-error>
        
        
                                    </ng-container>
                                </mat-header-cell>
                            </ng-container>

                            <!-- Treatment Column -->
                            <ng-container matColumnDef="addtreatment">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-form-field class="multi-select-override">
                                        <mat-label>
                                            Treatment
                                        </mat-label>
                                        <mat-select formControlName="treatment" required>
                                            <mat-option *ngFor="let treatment of treatmentList" [value]="treatment.treatmentId">
                                                {{treatment.treatmentLabel}}
                                            </mat-option>
                                        </mat-select>
                                        <ng-container
                                            *ngIf="(AsthmaPatientForWorkbookForm.get('treatment').touched || AsthmaPatientForWorkbookForm.get('treatment').dirty) && AsthmaPatientForWorkbookForm.get('treatment').errors">
                                            <mat-error *ngIf="AsthmaPatientForWorkbookForm.get('treatment').errors.required">
                                                Please select a treatment
                                            </mat-error>
        
        
                                        </ng-container>
                                    </mat-form-field>
                                </mat-header-cell>
                            </ng-container>
                            
                            <!-- Action Plan column -->
<!--                             <ng-container matColumnDef="addactionplangiven">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-button-toggle-group formControlName="actionplangiven">
                                        <mat-button-toggle value="true">Yes</mat-button-toggle>
                                        <mat-button-toggle value="false">No</mat-button-toggle>
                                    </mat-button-toggle-group>
                                    <ng-container
                                        *ngIf="(AsthmaPatientForWorkbookForm.get('actionplangiven').touched || AsthmaPatientForWorkbookForm.get('actionplangiven').dirty) && AsthmaPatientForWorkbookForm.get('actionplangiven').errors">
                                        <mat-error *ngIf="AsthmaPatientForWorkbookForm.get('actionplangiven').errors.required">
                                            Please select a assessment option
                                        </mat-error>
        
        
                                    </ng-container>
                                </mat-header-cell>
                            </ng-container> -->

                            <!-- Score Column -->
                            <ng-container matColumnDef="addscore">
                                <mat-header-cell *matHeaderCellDef>
                                    <mat-form-field>
                                        <input matInput placeholder="Score" formControlName="asthma_Score">
                                    </mat-form-field>
                                </mat-header-cell>
                            </ng-container>
        
                            <!-- Action Follow up Column -->
                            <ng-container matColumnDef="addfollowUp">
                                <mat-header-cell *matHeaderCellDef>
                                    <button mat-flat-button [disabled]="!AsthmaPatientForWorkbookForm.valid" color="accent"
                                        (click)="AddAsthmaPatientForWorkbook()">ADD PATIENT</button>
                                </mat-header-cell>
        
                            </ng-container>
                        </div>
                        <!-- Hidden Columns===============================================================-->
                        <!-- formResponseId Column -->
                        <ng-container matColumnDef="formResponseId">
                            <mat-header-cell *matHeaderCellDef> formResponseId </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.formResponseId}} </mat-cell>
                        </ng-container>
        
                        <!-- patientId Column -->
                        <ng-container matColumnDef="patientId">
                            <mat-header-cell *matHeaderCellDef> patientId </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.patientId}} </mat-cell>
                        </ng-container>
        
                        <!-- providerId Column -->
                        <ng-container matColumnDef="providerId">
                            <mat-header-cell *matHeaderCellDef> providerId </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.providerId}} </mat-cell>
                        </ng-container>
        
                        <!-- Column for adding patient-->
                        <ng-container matColumnDef="addingPatient">
                            <mat-header-cell *matHeaderCellDef> providerId </mat-header-cell>
                            <mat-cell *matCellDef="let element"> {{element.providerId}} </mat-cell>
                        </ng-container>
        
        
                        <mat-header-row *matHeaderRowDef="displayedAsthmaColumns"></mat-header-row>
                        <mat-header-row class="patient-addition-row"
                            *matHeaderRowDef="['addaction','addpatient','adddob', 'addphone','addprovider','adddateOfService', 'addassessmentcompleted', 'addtreatment', 'addscore', 'addfollowUp']">
                        </mat-header-row>
                        <mat-row *matRowDef="let row; columns: displayedAsthmaColumns;">
                        </mat-row>
                    </mat-table>
                </div>
            </div>
        </ng-container>
    </div>
</div>

<!-- Dialog ===============================================================-->
<ng-template #FollowUp>

    <div form [formGroup]="FollowupForm" class="follow-up-form">
        <h2 mat-dialog-title class="workbook-detail-heading">Follow up questions </h2>
        <mat-dialog-content>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="32px">
                <div fxLayout="column" class="question">
                    Medication Managed by External Provider?
                </div>
                <div fxLayout="column">
                    <mat-button-toggle-group formControlName="managedByExternalProvider">
                        <mat-button-toggle value="Yes">Yes</mat-button-toggle>
                        <mat-button-toggle value="No">No</mat-button-toggle>
                    </mat-button-toggle-group>
                    <ng-container
                        *ngIf="(FollowupForm.get('managedByExternalProvider').touched || FollowupForm.get('managedByExternalProvider').dirty) && FollowupForm.get('managedByExternalProvider').errors">
                        <mat-error *ngIf="FollowupForm.get('managedByExternalProvider').errors.required">
                            Please select
                        </mat-error>
                    </ng-container>
                </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="32px">
                <div fxLayout="column" class="question">
                    Date of Last Communication by External Provider ?
                </div>
                <div fxLayout="column">
                    <mat-form-field class="staff-full-width">
                        <mat-label>Date of Service</mat-label>
                        <input matInput placeholder="MM/DD/YYYY"
                            formControlName="dateOfLastCommunicationByExternalProvider" [matDatepicker]="picker">
                        <mat-datepicker-toggle matPrefix [for]="picker">
                            <mat-icon matDatepickerToggleIcon class="icons-white-mail-input mat-icon-staff">
                                calendar_today
                            </mat-icon>
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                        <ng-container
                            *ngIf="(FollowupForm.get('dateOfLastCommunicationByExternalProvider').touched || FollowupForm.get('dateOfLastCommunicationByExternalProvider').dirty) && FollowupForm.get('dateOfLastCommunicationByExternalProvider').errors">
                            <mat-error
                                *ngIf="FollowupForm.get('dateOfLastCommunicationByExternalProvider').errors.daterequired">
                                Date is required in MM/DD/YYYY format
                            </mat-error>
                        </ng-container>
                    </mat-form-field>
                </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="32px">
                <div fxLayout="column" class="question">
                    1-2 Week follow-up call?
                </div>
                <div fxLayout="column">
                    <mat-button-toggle-group formControlName="followupPhoneCallOneToTwoWeeks">
                        <mat-button-toggle value="Yes">Yes</mat-button-toggle>
                        <mat-button-toggle value="No">No</mat-button-toggle>
                    </mat-button-toggle-group>
                    <ng-container
                        *ngIf="(FollowupForm.get('followupPhoneCallOneToTwoWeeks').touched || FollowupForm.get('followupPhoneCallOneToTwoWeeks').dirty) && FollowupForm.get('followupPhoneCallOneToTwoWeeks').errors">
                        <mat-error *ngIf="FollowupForm.get('followupPhoneCallOneToTwoWeeks').errors.required">
                            Please select
                        </mat-error>
                    </ng-container>
                </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="32px">
                <div fxLayout="column" class="question">
                    Date of follow-up call?
                </div>
                <div fxLayout="column">
                    <mat-form-field class="staff-full-width">
                        <mat-label>Date of Service</mat-label>
                        <input matInput placeholder="MM/DD/YYYY" formControlName="dateOfFollowupCall"
                            [matDatepicker]="picker1">
                        <mat-datepicker-toggle matPrefix [for]="picker1">
                            <mat-icon matDatepickerToggleIcon class="icons-white-mail-input mat-icon-staff">
                                calendar_today
                            </mat-icon>
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker1></mat-datepicker>
                        <ng-container
                            *ngIf="(FollowupForm.get('dateOfFollowupCall').touched || FollowupForm.get('dateOfFollowupCall').dirty) && FollowupForm.get('dateOfFollowupCall').errors">
                            <mat-error *ngIf="FollowupForm.get('dateOfFollowupCall').errors.daterequired">
                                Date is required in MM/DD/YYYY format
                            </mat-error>
                        </ng-container>
                    </mat-form-field>
                </div>
            </div>

            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="32px">
                <div fxLayout="column" class="question">
                    1 Month follow-up visit?
                </div>
                <div fxLayout="column">
                    <mat-button-toggle-group formControlName="oneMonthFollowupVisit">
                        <mat-button-toggle value="Yes">Yes</mat-button-toggle>
                        <mat-button-toggle value="No">No</mat-button-toggle>
                    </mat-button-toggle-group>
                    <ng-container
                        *ngIf="(FollowupForm.get('oneMonthFollowupVisit').touched || FollowupForm.get('oneMonthFollowupVisit').dirty) && FollowupForm.get('oneMonthFollowupVisit').errors">
                        <mat-error *ngIf="FollowupForm.get('oneMonthFollowupVisit').errors.required">
                            Please select
                        </mat-error>
                    </ng-container>
                </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="32px">
                <div fxLayout="column" class="question">
                    Date of 1 month visit (optional)
                </div>
                <div fxLayout="column">
                    <mat-form-field class="staff-full-width">
                        <mat-label>Date of Service</mat-label>
                        <input matInput placeholder="MM/DD/YYYY" formControlName="dateOfOneMonthVisit"
                            [matDatepicker]="picker2">
                        <mat-datepicker-toggle matPrefix [for]="picker2">
                            <mat-icon matDatepickerToggleIcon class="icons-white-mail-input mat-icon-staff">
                                calendar_today
                            </mat-icon>
                        </mat-datepicker-toggle>
                        <mat-datepicker #picker2></mat-datepicker>

                    </mat-form-field>
                </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="32px">
                <div fxLayout="column" class="question">
                    1 Month follow-up PHQ-9 Score ?
                </div>
                <div fxLayout="column">
                    <mat-form-field>                        
                        <input matInput formControlName="oneMonthFolllowupPHQ9Score" placeholder="Score">
                        <ng-container
                            *ngIf="(FollowupForm.get('oneMonthFolllowupPHQ9Score').touched || FollowupForm.get('oneMonthFolllowupPHQ9Score').dirty) && FollowupForm.get('oneMonthFolllowupPHQ9Score').errors">
                            <mat-error *ngIf="FollowupForm.get('oneMonthFolllowupPHQ9Score').errors.required">
                                PHQ-9 score is required
                            </mat-error>
                        </ng-container>
                    </mat-form-field>
                </div>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="32px">
                <div fxLayout="column" class="question">
                    Provider Notes: 
                </div>
                <div fxLayout="column" fxFlex>
                    <mat-form-field appearance="outline">                        
                        <textarea matInput formControlName="phQ9FollowUpNotes" class="providerNotes" placeholder="Notes"></textarea>                       
                    </mat-form-field>
                </div>
            </div>

        </mat-dialog-content>
        <mat-dialog-actions>
            <button mat-button mat-dialog-close>CANCEL</button>
            <button mat-flat-button [mat-dialog-close]="true" [disabled]="!FollowupForm.valid" color="accent"
                (click)="updateFollowUpQuestion()">SAVE ACTION INFO</button>
        </mat-dialog-actions>
    </div>
</ng-template>

<ng-template #DeletePatient>
    <div mat-dialog-content class="mat-typography">
        <h3>Are you sure you want to delete {{deletingPatientName}}?</h3>
    </div>
    <div mat-dialog-actions align="end">
        <button mat-button mat-dialog-close>Cancel</button>
        <button mat-flat-button color="warn" mat-dialog-close (click)="OnRemovePatientClick()">Delete</button>
    </div>
</ng-template>

<ng-template #EditProvidersDialog>
    <div mat-dialog-content class="mat-typography" id="edit-providers-dialog">
      <form [formGroup]="editProvidersForm">
        <div fxLayout="row" class="detail-heading">
            
            <h3>EDIT WORKBOOK PROVIDERS</h3>
        </div>
        

        <div fxLayout="row" fxLayoutGap="20px" class="select-row">

          <div fxLayout="column" fxLayoutAlign="center"  fxFlex="50" >
            <mat-form-field class="multi-select-override" floatLabel="always">
              <mat-label>PCP</mat-label>

              <mat-select matNativeControl align-items="center" placeholder="Select a Provider" formControlName="pcpName" (selectionChange)="onEditProviderSelectionChange($event)" required>
                <mat-select-trigger>
                    {{selectedEditProviderDisplay}}
                </mat-select-trigger>
                <mat-option *ngFor="let item of allProviders" [value]="item">
                    <mat-icon color="primary" *ngIf="checkForExistingWorkbookProvider(item.id) === 1">check_circle_outline</mat-icon>&nbsp; {{item.name}}
                </mat-option>
              </mat-select>
            </mat-form-field>
            
            <ng-container
              *ngIf="(editProvidersForm.get('pcpName').touched || editProvidersForm.get('pcpName').dirty) && (editProvidersForm.get('pcpName').errors)">
              <mat-error *ngIf="editProvidersForm.get('pcpName').errors.required">
                  *Required
              </mat-error>
            </ng-container>
          </div>

          <div fxLayout="column" fxFlex>
                <span>
                  If you do not see a provider, please add them</span>
                <span>to the Staff list for this practice. Ensure the </span>
                <span>provider has an NPI assigned.</span>
                <span>
                    Note: The provider will only be added or removed
                </span>
                <span>
                    from this workbook.
                </span>
          </div>

        </div>
      </form>
    </div>


    <div  fxLayout="row" fxLayoutGap="16px" fxLayoutAlign="space-evenly end">    
      <div mat-dialog-actions align="center" class="select-row">
        <button mat-button (click)="cancelEditProvidersDialog()">Cancel</button>
        <button mat-flat-button color="accent" [disabled]="!(editProvidersForm.valid && checkForExistingWorkbookProvider(this.editProvidersForm.controls.pcpName.value.id) === 0)"
        (click)="submitEditProviders(1)">ADD SELECTED PROVIDER</button>
        <button mat-flat-button color="accent" [disabled]="!(editProvidersForm.valid && checkForExistingWorkbookProvider(this.editProvidersForm.controls.pcpName.value.id) === 1)"
        (click)="submitEditProviders(2)">REMOVE SELECTED PROVIDER</button>
      </div>
    </div>

    <!-- [disabled]="!editProvidersForm.valid" -->

  </ng-template>